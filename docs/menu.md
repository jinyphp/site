# 사이트 메뉴
사이트메뉴는 웹사이트의 다양한 페이지를 쉽게 이동할 수 있게 도와주는 네비게이션 입니다. 네이게이션 메뉴를 구현하기 위해서는 복잡한 html과 코드를 작성을 해야 되며, 잦은 변경으로 복잡한 코드를 직접 수정하기 어려운 부분이 많습니다. 

지니Site는 웹사이트의 메뉴를 체계적으로 관리할 수 있는 기능을 제공합니다.

## 데이터와 디자인 분리
지니Site는 메뉴를 구성하기 위하여 메뉴 데이터와 화면에 표현하는 디자인을 분리하여 관리합니다. 데이터는 resources/menus 폴더안에 json 파일로 관리됩니다.

> 메뉴를 json 파일로 관리함으로서 쉽게 컨덴츠를 마이그레이션 할 수 있고, 다양한 slot에도 동일한 데이터를 유지할 수 있습니다.

json 테이터를 이용하여 다양한 모양의 메뉴트리 구조를 표현할 수 있습니다.

### 관리자 기능
메뉴 json 데이터를 보다 쉽게 관리할 수 있도록 admin 페이지에서는 메뉴 생성기늘 제공하고 있습니다.

### 복수 메뉴
지니Site는 메뉴를 그룹화 하여 json 파일로 관리합니다. 이를 통하여 사이트에서 메인메뉴, 카테고리, 푸터메뉴등 트리구조의 네비게이션이 필요한 수량많큼 자유롭게 만들서 적용할 수 있습니다.

## 헬퍼함수
지니Site는 메뉴의 데이터를 쉽게 가지고 올 수 있는 헬퍼 함수를 제공합니다.

```php
$menu = \Jiny\Site\MenuItems("menu.json");
```


## 직접적용
json 메뉴 데이터를 읽어서 디자인 blade 파일에 전달하여 메뉴 트리를 생성할 수 있습니다. 이는 페이지가 렌더링되면서 직접 트리를 생성하게 됩니다. 
> 생성된 트리는 캐수로 관리되어 보다 빠르게 컨덴츠를 관리할 수 있습니다.
 
```php
@php
$menu = \Jiny\Site\MenuItems("menu.json");
@endphp
<x-www_menu-top :menu="$menu"></x-www_menu-top>
```

## 동적 메뉴 생성
AJAX 비동기 방식으로 메뉴 트리를 분리할 수 있습니다. 이를 위하여 지니Site는 `site-menu`라는 라이브와이어 컴포넌트를 제공합니다.

다음처럼 불러올 json파일의 이름과 레이아웃 blade 경로를 지정하면 됩니다.

```php
@livewire('site-menu',[
    'code' => "menu.json",
    'viewFile' => "_components.menu.top"
])
```

페이지가 로딩이 되면서, ajax로 비동기적으로 메뉴를 동적으로 생성합니다.

> 라이브와이어 방식을 같이 이용하면, ui에서 바로 메뉴를 수정할 수 있는 장점이 있습니다.

